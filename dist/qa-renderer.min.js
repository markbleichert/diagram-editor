window.qa=function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=5)}([function(t,e){t.exports='<div class="qa-module__container">\n    <div id="qa-placeholder" class="qa-placeholder">\n        This the runtime container. This text should not be visible..\n    </div>\n    <div class="qa-nav">\n        <button class="qa-button prev" rfs-button-secondary="">Vorige</button>\n        \x3c!-- <button class="qa-button next" rfs-button-secondary="">Volgende</button> --\x3e\n    </div>\n</div>'},function(t,e){t.exports="<div>Template is missing..</div>"},function(t,e){t.exports='<article class="qa-template qa-template--question">\n    <h2 class="qa-template__heading rfs-heading-2">{{question}}</h2>\n    <section class="qa-template__options">\n        {{#for option in options}}\n        <button class="qa-tile" data-option-id="{{option.id}}">\n            {{#if option.url }}\n            <div class="qa-tile__image">\n                <img src="{{option.url}}" alt="">\n            </div>\n            {{/if}}\n            <span class="qa-tile__heading">{{option.text}}</span>\n        </button>\n        {{/for}}\n    </section>\n</article>'},function(t,e){t.exports='<article class="qa-template qa-template--endpoint">\n    <h2 class="qa-template__heading rfs-heading-2">{{content.title}}</h2>\n    <div class="qa-template__body">\n        <p>{{content.body}}</p>\n        {{#if content.image }}\n        <div class="qa-template__body__content">\n            <a href="{{content.link.url}}">\n                <img src="{{content.image.src}}" alt="{{content.image.alt}}"/>\n            </a>\n        </div>\n        {{#else}}\n        <form action="{{content.link.url}}">\n            <button class="rfs-button-primary qa-button">{{content.link.text}}</button>\n        </form>\n        {{/if}}\n    </div>\n</article>'},function(t,e,n){},function(t,e,n){"use strict";n.r(e);n(4);function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var r,i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.root={},console.log(this),this.root=e.root,this.nodes=e.nodes,this.connectors=e.connectors,this.history=[],this.setStartNode(this.getRootNode())}var e,n,r;return e=t,(n=[{key:"setStartNode",value:function(t){this.setCurrentNode(t),this.history.push(t)}},{key:"setCurrentNode",value:function(t){this.currentNode=t}},{key:"getCurrentNode",value:function(){return this.currentNode}},{key:"hasPrevious",value:function(){return this.history.length>1}},{key:"getPrevious",value:function(){this.history.pop();var t=this.history[this.history.length-1];return this.setCurrentNode(t),t}},{key:"getNext",value:function(t){var e=this.getNextNode(t);return this.setCurrentNode(e),this.history.push(e),e}},{key:"getConnectorOut",value:function(t,e){for(var n,o=0;o<this.connectors.length;o++){var r=this.connectors[o];if(r.source.id===t&&r.source.port===e){n=r;break}}return n}},{key:"getNodeById",value:function(t){for(var e,n=0;n<this.nodes.length;n++){var o=this.nodes[n];if(o.id===t){e=o;break}}return e}},{key:"getNextNode",value:function(t){var e=this.getCurrentNode(),n=this.getConnectorOut(e.id,t);return this.getNodeById(n.target.id)}},{key:"getRootNode",value:function(){return this.getNodeById(this.root)}}])&&o(e.prototype,n),r&&o(e,r),t}(),s={},a={__noop:function(){}},u={STATEMENT:1,BLOCK_BEGIN:2,BLOCK_END:3,EXPRESSION:4,TEXT:5};function c(){return[].slice.call(arguments).map(function(t){return"string"==typeof t?t.replace(/^['"]|['"]$/g,""):t})}function l(){this.type=null,this.value=null}function f(t,e,n){var o=t.trim().split(/\s*\|\s*/),r=o.shift(),i=r.split(/[.[\]]/).filter(function(t){return!!t}).reduce(function(t,e){return t[parseInt(e,10)||e]},e);if(!i){var s=r.split(/\s+/),a=s.shift();n[a]&&(s=c.apply(null,s),i=n[a].apply(null,s))}for(;o.length;){var u=o.shift().split(/\s+/),l=n[u.shift()||"__noop"],f=u.length?[i].concat(u):[i];f=c.apply(null,f),i=l.apply(null,f)}return i}function p(t){if(t=t.replace(/(\r\n|\n|\r)/gm,""),s[t])return s[t];for(var e,n=function(t){var e=0;function n(t,e){var n=t.slice(e),o=new l;return!!n.length&&("{{"===n.substring(0,2)?(o.type=u.STATEMENT,o.value=n.slice(0,n.indexOf("}}")+2),/^{{\s?#/.test(o.value)?o.type=u.BLOCK_BEGIN:/^{{\s?\//.test(o.value)?o.type=u.BLOCK_END:o.type=u.EXPRESSION):(o.type=u.TEXT,-1!==n.indexOf("{{")?o.value=n.slice(0,n.indexOf("{{")):o.value=n),o)}return{next:function(){var o=n(t,e);return o&&(e+=o.value.length,o.value=o.value.replace(/{{|}}/g,"")),o},peek:function(){return n(t,e)}}}(t),o={interpolate:f,helpers:a},r=["var p = [], self = this;"],i=function(t){return"self.interpolate('".concat(t,"', context, self.helpers)")};e=n.next();)if(e.type===u.BLOCK_BEGIN){var c=e.value.match(/^#(?:\s+)?([^}]+)/)[1].split(" "),p=c[0],h=c.slice(1).join(" ");switch(p){case"if":r.push("if ("+i(h)+") {");break;case"else":r.push("} else {");break;case"for":case"foreach":r.push(i(c[3])+".forEach(function(obj, index){"),r.push('var context = { "'+c[1]+'": obj };')}}else if(e.type===u.BLOCK_END){switch(e.value.match(/^\/(?:\s+)?([^}]+)/)[1]){case"if":r.push("}");break;case"for":case"foreach":r.push("});")}}else e.type===u.EXPRESSION?r.push("p.push("+i(e.value)+");"):r.push("p.push('"+e.value+"');");r.push("return p.join('');");var d=new Function("context",r.join("")).bind(o);return s[t]=d,d}l.prototype.toString=function(){return"".concat((void 0).type,"-").concat((void 0).value)},r={uppercase:function(t){return t.toString().toUpperCase()},reverse:function(t){return t.split("").reverse().join("")},equals:function(t,e){return t===e}},Object.keys(r).forEach(function(t){a[t]||(a[t]=r[t])});var h=n(0),d=n.n(h),v=n(1),y=n.n(v),b=n(2),g=n.n(b),m=n(3),_=n.n(m),k={"tmpl-missing":y.a,"tmpl-container":d.a,QA_TILES:g.a,EP_CONTENT:_.a};function N(t,e){try{return p(k[t]||k["tmpl-missing"])(e)}catch(e){throw new Error("Template ".concat(t," can not be compiled."))}}function O(t,e){return n=N(t,e),(o=document.createElement("div")).innerHTML=n.trim(),o.firstChild;var n,o}function x(t){return(x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function E(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function C(t,e){return!e||"object"!==x(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function w(t){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function q(t,e){return(q=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var S=function(t){function e(t){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.containerId;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=C(this,w(e).call(this,t))).setContainer(o),n.counter=0,n}var n,o,r;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&q(t,e)}(e,i),n=e,(o=[{key:"start",value:function(){this.reset(!0),this.renderComponent(this.getCurrentNode())}},{key:"moveNext",value:function(t){this.renderComponent(this.getNext(t))}},{key:"renderComponent",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=O(t.template,t);n?(this.counter-=2,setTimeout(function(){e.viewport.lastChild.remove(),console.log(".",e.holder1),e.holder1.style.height="".concat(e.holder2.offsetHeight,"px")},300)):(this.viewport.appendChild(o),setTimeout(function(){console.log(".",e.holder1),e.holder1.style.height="".concat(e.holder2.offsetHeight,"px")},300)),this.viewport.firstChild.style="margin-left:-".concat(100*this.counter++,"%")}},{key:"reset",value:function(t){t&&(this.viewport.textContent="")}},{key:"toggleBackButton",value:function(){this.hasPrevious()?this.backbutton.classList.add("show"):(this.backbutton.classList.remove("show"),document.querySelector(".qa-template__options").classList.add("fadein"))}},{key:"onOptionClick",value:function(t){var e=t.target.closest("[data-option-id]");if(e){var n=e.getAttribute("data-option-id");n&&this.moveNext(n)}}},{key:"setContainer",value:function(t){var e=this,n=N("tmpl-container"),o=document.getElementById(t);o.innerHTML=n,this.container=o,this.viewport=o.querySelector("#qa-placeholder"),this.holder2=this.viewport.parentNode,this.holder1=this.holder2.parentNode,this.backbutton=o.querySelector(".prev"),this.holder1.style.height="".concat(this.holder2.offsetHeight,"px"),this.container.addEventListener("click",this.toggleBackButton.bind(this)),this.backbutton.addEventListener("click",function(){return e.renderComponent(e.getPrevious(),!0)}),this.viewport.addEventListener("click",this.onOptionClick.bind(this))}}])&&E(n.prototype,o),r&&E(n,r),e}();function T(t,e){new S(t,e).start()}n.d(e,"start",function(){return T})}]);
//# sourceMappingURL=qa-renderer.min.js.map