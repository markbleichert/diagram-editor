window.qa=function(t){var e={};function n(o){if(e[o])return e[o].exports;var i=e[o]={i:o,l:!1,exports:{}};return t[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(o,i,function(e){return t[e]}.bind(null,i));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=7)}([function(t,e){t.exports='<div class="qa-module__container">\n    <div id="qa-placeholder" class="qa-placeholder">\n        This the runtime container. This text should not be visible..\n    </div>\n    <div class="qa-nav">\n        <button class="qa-button prev"><i class="fas fa-arrow-left"></i></button>\n    </div>\n</div>'},function(t,e){t.exports="<div>\n    <strong>\n        {{#if name}}\n            The template with name {{name}} is broken..\n        {{/if}}\n\n        {{#if message}}\n            <p>{{ message }}</p>\n        {{/if}}\n    </strong>\n    <p>\n        <em>Please check if data properties referenced in the template match the properties in the data config file.</em>\n    </p>\n</div>"},function(t,e){t.exports="<div>Template is missing..</div>"},function(t,e){t.exports='<article class="qa-template qa-template__question">\n    {{#if content}}\n        <div class="content_section">\n            <section class="content_section__intro">\n                {{#if content.info}}\n                    <h2 class="content_section__title rfs-heading-1">{{content.title}}</h2>\n                    {{#if content.body}}\n                        <p class="rfs-text">{{content.body}}</p>\n                    {{/if}}\n                {{#else}}\n                    <h2 class="content_section__title rfs-heading-1 rfs-util-align-center">{{content.title}}</h2>\n                    {{#if content.body}}\n                        <p class="rfs-text rfs-util-align-center">{{content.body}}</p>\n                    {{/if}}\n                {{/if}}\n            </section>\n            <section class="content_section__columns">\n                <div class="content_section__columns__left">\n                    {{#if content.image }}\n                        <img src="{{content.image.src}}" alt="{{content.image.alt}}"/>\n                    {{#else}}\n                        {{#if content.video}}\n                            <iframe\n                                frameborder="0"\n                                allowfullscreen="1"\n                                allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"\n                                style="width: 100%; height: 300px"\n                                src="{{content.video.url}}">\n                            </iframe>\n                        {{/if}}\n                    {{/if}}\n                </div>\n                {{#if content.info}}\n                    <div class="content_section__columns__right">\n                        <blockquote class="content-media--description">\n                            <h2 class="rfs-heading-3">{{content.info.title}}</h2>\n                            <p class="rfs-text">{{content.info.body}}</p>\n                        </blockquote>\n                    </div>\n                {{/if}}\n            </section>\n        </div>\n    {{/if}}\n\n    <section class="content-section__question">\n        <h2 class="qa-template__heading rfs-heading-2">{{question}}</h2>\n\n        <section class="qa-template__options">\n            {{#for option in options}}\n            <button class="qa-tile" data-option-id="{{option.id}}">\n                {{#if option.image }}\n                <div class="qa-tile__image">\n                    <img src="{{option.image.src}}" alt="{{option.image.alt}}">\n                </div>\n                {{/if}}\n                <span class="qa-tile__heading">{{option.text}}</span>\n            </button>\n            {{/for}}\n        </section>\n    </section>\n</article>'},function(t,e){t.exports='<article class="qa-template qa-template--endpoint">\n\n        {{#if content}}\n        <div class="content_section">\n            <section class="content_section__intro">\n                {{#if content.info}}\n                    <h2 class="content_section__title rfs-heading-1">{{content.title}}</h2>\n                    {{#if content.body}}\n                    <p class="rfs-text">{{content.body}}</p>\n                    {{/if}}\n                {{#else}}\n                    <h2 class="content_section__title rfs-heading-1 rfs-util-align-center">{{content.title}}</h2>\n                    {{#if content.body}}\n                        <p class="rfs-text rfs-util-align-center">{{content.body}}</p>\n                    {{/if}}\n                {{/if}}\n            </section>\n            <section class="content_section__columns">\n                <div class="content_section__columns__left">\n                    {{#if content.image }}\n                        <img src="{{content.image.src}}" alt="{{content.image.alt}}"/>\n                    {{#else}}\n                        {{#if content.video}}\n                        <iframe\n                                frameborder="0"\n                                allowfullscreen="1"\n                                allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture"\n                                style="width: 100%; height: 300px"\n                                src="{{content.video.url}}">\n                        </iframe>\n                        {{/if}}\n                    {{/if}}\n                </div>\n                {{#if content.info}}\n                <div class="content_section__columns__right">\n                    <blockquote class="content-media--description">\n                        <h2 class="rfs-heading-3">{{content.info.title}}</h2>\n                        <p class="rfs-text">{{content.info.body}}</p>\n                    </blockquote>\n                </div>\n                {{/if}}\n            </section>\n        </div>\n        <div class="qa-template__footer">\n        {{#if content.link }}\n            <form action="{{content.link.url}}">\n                <button class="rfs-button-primary qa-button">{{content.link.text}}</button>\n            </form>\n        {{/if}}\n        </div>\n        {{/if}}\n\n</article>'},function(t,e){Element.prototype.closest||(Element.prototype.closest=function(t){for(var e=document.querySelectorAll(t),n=e.length-1;n>=0&&!e.item(n).contains(this);)n-=1;return e.item(n)&&e.item(n).contains(this)?e.item(n):null})},function(t,e,n){},function(t,e,n){"use strict";n.r(e);n(5),n(6);function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var i,r=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.root={},this.root=e.root,this.nodes=e.nodes,this.connectors=e.connectors,this.history=[],this._events={start:[],end:[],previous:[],next:[]}}var e,n,i;return e=t,(n=[{key:"init",value:function(){this.setStartNode(this.getRootNode()),this._trigger("start")}},{key:"_trigger",value:function(t){var e=this;this._events[t]&&this._events[t].forEach(function(t){t(e.currentNode,e.history)})}},{key:"on",value:function(t,e){this._events[t]&&e&&this._events[t].push(e)}},{key:"setStartNode",value:function(t){this.setCurrentNode(t)}},{key:"setCurrentNode",value:function(t){this.currentNode=t}},{key:"getCurrentNode",value:function(){return this.currentNode}},{key:"hasPrevious",value:function(){return this.history.length>0}},{key:"getPrevious",value:function(){var t=this.history.pop();return this.setOptionSelected(t),this.setCurrentNode(t),this._trigger("previous"),t}},{key:"getNext",value:function(t){var e=this.getNextNode(t);if(e){var n=this.getCurrentNode();this.setOptionSelected(n,t),this.history.push(n),this.setCurrentNode(e),this._trigger("next"),"endpoint"===e.type&&this._trigger("end")}return e}},{key:"setOptionSelected",value:function(t,e){t.options.forEach(function(t){t.selected=t.id===e})}},{key:"getConnectorOut",value:function(t,e){for(var n,o=0;o<this.connectors.length;o++){var i=this.connectors[o];if(i.source.id===t&&i.source.port===e){n=i;break}}return n}},{key:"getNodeById",value:function(t){for(var e,n=0;n<this.nodes.length;n++){var o=this.nodes[n];if(o.id===t){e=o;break}}return e}},{key:"getNextNode",value:function(t){var e=this.getCurrentNode(),n=this.getConnectorOut(e.id,t);return n?this.getNodeById(n.target.id):null}},{key:"getRootNode",value:function(){return this.getNodeById(this.root)}}])&&o(e.prototype,n),i&&o(e,i),t}(),s={},c={__noop:function(){}},a={STATEMENT:1,BLOCK_BEGIN:2,BLOCK_END:3,EXPRESSION:4,TEXT:5};function l(){return[].slice.call(arguments).map(function(t){return"string"==typeof t?t.replace(/^['"]|['"]$/g,""):t})}function u(){this.type=null,this.value=null}function f(t,e,n){var o=t.trim().split(/\s*\|\s*/),i=o.shift(),r=i.split(/[.[\]]/).filter(function(t){return!!t}).reduce(function(t,e){return t[parseInt(e,10)||e]},e);if(!r){var s=i.split(/\s+/),c=s.shift();n[c]&&(s=l.apply(null,s),r=n[c].apply(null,s))}for(;o.length;){var a=o.shift().split(/\s+/),u=n[a.shift()||"__noop"],f=a.length?[r].concat(a):[r];f=l.apply(null,f),r=u.apply(null,f)}return r}function p(t){if(t=t.replace(/(\r\n|\n|\r)/gm,""),s[t])return s[t];for(var e,n=function(t){var e=0;function n(t,e){var n=t.slice(e),o=new u;return!!n.length&&("{{"===n.substring(0,2)?(o.type=a.STATEMENT,o.value=n.slice(0,n.indexOf("}}")+2),/^{{\s?#/.test(o.value)?o.type=a.BLOCK_BEGIN:/^{{\s?\//.test(o.value)?o.type=a.BLOCK_END:o.type=a.EXPRESSION):(o.type=a.TEXT,-1!==n.indexOf("{{")?o.value=n.slice(0,n.indexOf("{{")):o.value=n),o)}return{next:function(){var o=n(t,e);return o&&(e+=o.value.length,o.value=o.value.replace(/{{|}}/g,"")),o},peek:function(){return n(t,e)}}}(t),o={interpolate:f,helpers:c},i=["var p = [], self = this;"],r=function(t){return"self.interpolate('".concat(t,"', context, self.helpers)")};e=n.next();)if(e.type===a.BLOCK_BEGIN){var l=e.value.match(/^#(?:\s+)?([^}]+)/)[1].split(" "),p=l[0],d=l.slice(1).join(" ");switch(p){case"if":i.push("if ("+r(d)+") {");break;case"else":i.push("} else {");break;case"for":case"foreach":i.push(r(l[3])+".forEach(function(obj, index){"),i.push('var context = { "'+l[1]+'": obj };')}}else if(e.type===a.BLOCK_END){switch(e.value.match(/^\/(?:\s+)?([^}]+)/)[1]){case"if":i.push("}");break;case"for":case"foreach":i.push("});")}}else e.type===a.EXPRESSION?i.push("p.push("+r(e.value)+");"):i.push("p.push('"+e.value+"');");i.push("return p.join('');");var h=new Function("context",i.join("")).bind(o);return s[t]=h,h}u.prototype.toString=function(){return"".concat((void 0).type,"-").concat((void 0).value)},i={uppercase:function(t){return t.toString().toUpperCase()},reverse:function(t){return t.split("").reverse().join("")},equals:function(t,e){return t===e}},Object.keys(i).forEach(function(t){c[t]||(c[t]=i[t])});var d=n(0),h=n.n(d),v=n(1),y=n.n(v),m=n(2),g=n.n(m),_=n(3),b=n.n(_),k=n(4),x=n.n(k),O={"tmpl-broken":y.a,"tmpl-missing":g.a,"tmpl-container":h.a,QA_TILES:b.a,EP_CONTENT:x.a};function w(t){var e=document.createElement("div");return e.innerHTML=t.trim(),e.firstChild}function N(t,e){try{return p(O[t]||O["tmpl-missing"])(e)}catch(e){throw new Error("Template ".concat(t," can not be compiled."))}}var C={effect:"fadeout",speed:400};function E(t){return(E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function q(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function S(t,e){return!e||"object"!==E(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function T(t){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function j(t,e){return(j=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var P=function(t){function e(t){var n,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.containerId,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=S(this,T(e).call(this,t))).options=i,n.config=Object.assign(C,t),n.setContainer(o),n.on("previous",function(t,e){"function"==typeof n.options.onChange&&n.options.onChange(t.id,e)}),n.on("next",function(t,e){"function"==typeof n.options.onChange&&n.options.onChange(t.id,e)}),n.on("end",function(t,e){"function"==typeof n.options.onComplete&&n.options.onComplete(t.id,e)}),n}var n,o,i;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&j(t,e)}(e,r),n=e,(o=[{key:"start",value:function(){this.init(),this.reset(!0),this.renderComponent(this.getCurrentNode())}},{key:"moveNext",value:function(t){var e=this.getNext(t);e&&this.renderComponent(e)}},{key:"movePrevious",value:function(){this.renderComponent(this.getPrevious())}},{key:"transition",value:function(t,e){var n=this.config,o=n.effect,i=n.speed;t.classList.add(o),setTimeout(function(){t.classList.remove(o),e()},i)}},{key:"renderComponent",value:function(t){var e,n,o=this;try{n=t.template,e=w(N(n,t))}catch(t){console.warn(t.message),e=function(t,e){return w(N("tmpl-broken",{name:t,message:e}))}(null,t)}this.transition(this.viewport,function(){o.reset(!0),o.viewport.appendChild(e),o.toggleBackButton()})}},{key:"reset",value:function(t){t&&(this.viewport.textContent="")}},{key:"toggleBackButton",value:function(){this.hasPrevious()?this.backbutton.classList.add("show"):this.backbutton.classList.remove("show")}},{key:"onOptionClick",value:function(t){var e=t.target.closest("[data-option-id]");if(e){var n=e.getAttribute("data-option-id");n&&this.moveNext(n)}}},{key:"setContainer",value:function(t){var e=N("tmpl-container"),n=document.getElementById(t);n.innerHTML=e,this.viewport=n.querySelector("#qa-placeholder"),this.backbutton=n.querySelector(".prev"),this.template=n.querySelector(".qa-placeholder"),this.backbutton.addEventListener("click",this.movePrevious.bind(this)),this.viewport.addEventListener("click",this.onOptionClick.bind(this))}}])&&q(n.prototype,o),i&&q(n,i),e}();function B(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e&&(t.containerId=e),!["containerId","root","nodes"].every(function(e){return e in t}))throw new Error("data: required field(s) missing..");new P(t,e,n).start()}n.d(e,"start",function(){return B})}]);
//# sourceMappingURL=qa-renderer.min.js.map